@use '../../../../style/theming';

// MARK: Variables
$dbx-datetime-button-spacing: 6px;
$dbx-datetime-date-and-time-spacing: 6px;
$dbx-datetime-button-width: 40px + ($dbx-datetime-button-spacing * 2); // times 2 for the spacing between the date and time inputs
$dbx-datetime-row-width: 40px + ($dbx-datetime-button-spacing * 2); // times 2 for the spacing between the date and time inputs

// MARK: Mixin
@mixin core() {
  .dbx-mat-form-date-time-field-wrapper {
    padding-top: 10px; // padding for label

    > formly-wrapper-mat-form-field {
      > .mat-form-field > .mat-form-field-wrapper {
        > .mat-form-field-flex {
          padding-top: 0;

          > .mat-form-field-infix {
            border: none;
          }
        }

        > .mat-form-field-subscript-wrapper {
          margin-top: 2px;
        }
      }
    }

    .dbx-datetime-row-field > .mat-form-field-wrapper {
      padding-bottom: 4px;

      > .mat-form-field-subscript-wrapper {
        margin-top: 0px;
      }
    }
  }

  .dbx-datetime-field {
    width: 100%;

    .dbx-datetime-timezone {
      padding: 0 6px;
      pointer-events: none;
    }

    .dbx-datetime-timezone-button .mat-button {
      font-size: 18px;
    }
  }

  .dbx-datetime-row {
    .dbx-datetime-row-field {
      width: calc(100% - #{$dbx-datetime-button-width});
    }

    .dbx-datetime-row-field.dbx-datetime-row-field-full-width {
      width: 100%;
    }

    &.dbx-datetime-hint-row {
      margin-top: -6px;
    }
  }

  .add-time-button {
    max-height: 40px;

    &.add-time-button-full {
      width: 100%;
      margin-bottom: 6px;
    }
  }

  .add-time-button-wrapper {
    padding-left: 6px;
    margin: auto;
    margin-bottom: 4px;
    height: 100%;
    width: 100%;
    display: flex;
    align-items: center;
    justify-items: left;
  }

  .dbx-datetime-hint-row {
    // margin-left: 12px;
  }

  .dbx-fixeddaterange-field {
    .mat-calendar,
    .dbx-fixeddaterange-field-input {
      margin: auto;
      min-width: 240px;
      max-width: 320px;
    }
  }

  .mat-form-field.dbx-fixeddaterange-field-input {
    display: block;
  }

  .dbx-fixeddaterange-field-input-end {
    opacity: 0.6;
    pointer-events: none;
  }

  .dbx-form-fixed-date-range-field-wrapper .mat-form-field-appearance-outline .mat-form-field-infix {
    padding: 0;
  }
}

@mixin color($theme-config) {
}

@mixin typography($typography-config) {
}

@mixin theme($theme-config) {
  @include theming.private-check-duplicate-theme-styles($theme-config, 'dbx-form-field-value-date') {
    $color: theming.get-color-config($theme-config);
    $typography: theming.get-typography-config($theme-config);

    @if $color !=null {
      @include color($theme-config);
    }

    @if $typography !=null {
      @include typography($typography);
    }
  }
}
