@import 'shared';

$dbx-popover-controls-height: 48px;
$dbx-popover-header-height: 48px;

@mixin fillPopoverContentHeight($hasControls: 0, $hasHeader: 0) {
  height: calc(var(--popoverh) - #{$dbx-popover-controls-height * $hasControls} - #{$dbx-popover-header-height * $hasHeader});
}

.dbx-popover-content {
  height: 100%;
  overflow-y: hidden;

  .dbx-popover-content-container {
    @include fillPopoverContentHeight();

    &.dbx-popover-content-container-scrollable {
      overflow-y: scroll;
    }
  }

  .dbx-popover-controls {
    height: $dbx-popover-controls-height;
    overflow-y: hidden;
  }

  &.popover-has-controls {
    .dbx-popover-content-container {
      @include fillPopoverContentHeight(1);
    }
  }
}

.dbx-popover-header {
  padding: 4px;
  display: flex;
  box-sizing: border-box;
  height: $dbx-popover-header-height;
  overflow-y: hidden;

  .dbx-popover-header-content {
    width: 100%;
    display: flex;
    align-items: center;

    @include if-small-screen {
      flex-wrap: wrap;
    }
  }

  h3 {
    display: flex;
    align-items: center;
    margin: 0;
  }
}

.dbx-popover-scroll-content {
  overflow: auto;
  @include fillPopoverContentHeight(1);

  &.popover-has-header {
    @include fillPopoverContentHeight(0, 1);
  }

  &.popover-has-controls {
    @include fillPopoverContentHeight(0, 1);
  }

  &.popover-has-controls-and-header {
    @include fillPopoverContentHeight(1, 1);
  }

}
