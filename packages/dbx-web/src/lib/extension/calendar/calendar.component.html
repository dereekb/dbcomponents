<div class="dbx-calendar">
  <h3 class="dbx-calendar-title">{{ (viewDate$ | async)! | calendarDate: (displayType$ | async) + 'ViewTitle':'en' }}</h3>
  <div class="dbx-calendar-header">
    <div class="dbx-calendar-controls" fxLayout="row">
      <span class="dbx-calendar-controls-left" fxFlex="nogrow">
        <button mat-stroked-button (click)="todayClicked()">Today</button>
        <dbx-button-spacer></dbx-button-spacer>
        <button mat-icon-button [attr.aria-label]="'Previous ' + (displayType$ | async) + ' button'" (click)="previousButtonClicked()">
          <mat-icon>navigate_before</mat-icon>
        </button>
        <button mat-icon-button [attr.aria-label]="'Next' + (displayType$ | async)! + ' button'" (click)="nextButtonClicked()">
          <mat-icon>navigate_next</mat-icon>
        </button>
      </span>
      <span class="spacer"></span>
      <span class="dbx-calendar-controls-right" fxFlex="nogrow">
        <mat-button-toggle-group name="calendarDisplayStyle" [value]="(displayType$ | async)!" (change)="typeToggleChanged($event)" aria-label="Display Style">
          <mat-button-toggle value="month">Month</mat-button-toggle>
          <mat-button-toggle value="week">Week</mat-button-toggle>
          <mat-button-toggle value="day">Day</mat-button-toggle>
        </mat-button-toggle-group>
      </span>
    </div>
  </div>
  <div class="dbx-calendar-content" [ngClass]="'calendar-content-' + (displayType$ | async)!" [ngSwitch]="displayType$ | async">
    <mwl-calendar-month-view *ngSwitchCase="'month'" [viewDate]="(viewDate$ | async)!" [events]="(events$ | async)!" [activeDayIsOpen]="(activeDayIsOpen$ | async)!" (dayClicked)="dayClicked($event.day)" (eventClicked)="eventClicked('Clicked', $event.event)"></mwl-calendar-month-view>
    <mwl-calendar-week-view *ngSwitchCase="'week'" [viewDate]="(viewDate$ | async)!" [events]="(events$ | async)!" (eventClicked)="eventClicked('Clicked', $event.event)"></mwl-calendar-week-view>
    <mwl-calendar-day-view *ngSwitchCase="'day'" [viewDate]="(viewDate$ | async)!" [events]="(events$ | async)!" (eventClicked)="eventClicked('Clicked', $event.event)"></mwl-calendar-day-view>
  </div>
</div>
